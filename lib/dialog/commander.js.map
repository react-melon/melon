{"version":3,"sources":["/src/dialog/commander.js"],"names":["createDialogCommand","container","Dialog","options","document","createElement","className","body","appendChild","element","render","unmountComponentAtNode","removeChild"],"mappings":";;;;;;;;;;;;;;;;sBAgBwBA,mB;;;;;;AAhBxB;;;;;AAQA,QAAIC,YAAY,IAAhB;;AAEA;;;;;;AAMe,aAASD,mBAAT,CAA6BE,MAA7B,EAAqC;;AAEhD,eAAO,UAAUC,OAAV,EAAmB;;AAEtB,gBAAI,CAACF,SAAL,EAAgB;AACZA,4BAAYG,SAASC,aAAT,CAAuB,KAAvB,CAAZ;AACAJ,0BAAUK,SAAV,GAAsB,iCAAtB;AACAF,yBAASG,IAAT,CAAcC,WAAd,CAA0BP,SAA1B;AACH;;AAED,gBAAIQ,UAAUL,SAASC,aAAT,CAAuB,KAAvB,CAAd;AACAJ,sBAAUO,WAAV,CAAsBC,OAAtB;;AAEA,kCAASC,MAAT,CACI,iCAAC,MAAD,8BAAYP,OAAZ,IAAqB,MAAM,IAA3B,IADJ,EAEIM,OAFJ;;AAKA,mBAAO,YAAY;AACf,sCAASE,sBAAT,CAAgCF,OAAhC;AACAR,0BAAUW,WAAV,CAAsBH,OAAtB;AACAA,0BAAU,IAAV;AACH,aAJD;AAMH,SAtBD;AAwBH","file":"commander.js","sourcesContent":["/**\n * @file 命令式窗口管理\n * @author leon <ludafa@baidu.com>\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nlet container = null;\n\n/**\n * 创建一个对话框构造器\n *\n * @param  {Function} Dialog ReactComponent\n * @return {Function}        一个可以实时创建对话框的函数\n */\nexport default function createDialogCommand(Dialog) {\n\n    return function (options) {\n\n        if (!container) {\n            container = document.createElement('div');\n            container.className = 'melon-seperate-dialog-container';\n            document.body.appendChild(container);\n        }\n\n        let element = document.createElement('div');\n        container.appendChild(element);\n\n        ReactDOM.render(\n            <Dialog {...options} open={true} />,\n            element,\n        );\n\n        return function () {\n            ReactDOM.unmountComponentAtNode(element);\n            container.removeChild(element);\n            element = null;\n        };\n\n    };\n\n}\n"]}