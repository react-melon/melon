{"version":3,"sources":["table/SelectorColumn.js"],"names":["TableSelectorColumn","render","displayName","icons","radio","checked","unchecked","checkbox","getIcon","multiple","selected","cellRenderer","props","part","columnData","rowIndex","isSelected","isAllSelected","onCellClick","bind","handler","propTypes","func","isRequired","onSelect","onSelectAll","name","string","defaultProps","width","grow","shrink","headerRenderer","footerRenderer","align","dataKey","_TABLE_COMPONENT_"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;QAeqBA,mB;;;;;;;;sCAQjBC,M,qBAAS;AACL,mBAAO,IAAP;AACH,S;;;;;yBAVgBD,mB;;;AAcrBA,wBAAoBE,WAApB,GAAkC,qBAAlC;;AAEAF,wBAAoBG,KAApB,GAA4B;AACxBC,eAAO;AACHC,qBAAS,sBADN;AAEHC,uBAAW;AAFR,SADiB;AAKxBC,kBAAU;AACNF,qBAAS,WADH;AAENC,uBAAW;AAFL;AALc,KAA5B;;AAWAN,wBAAoBQ,OAApB,GAA8B,UAAUC,QAAV,EAAoBC,QAApB,EAA8B;AACxD,YAAIP,QAAQH,oBAAoBG,KAApB,CAA0BM,WAAW,UAAX,GAAwB,OAAlD,CAAZ;AACA,eAAON,MAAMO,WAAW,SAAX,GAAuB,WAA7B,CAAP;AACH,KAHD;;AAKAV,wBAAoBW,YAApB,GAAmC,UAAUC,KAAV,EAAiB;AAAA,YAEzCC,IAFyC,GAEXD,KAFW,CAEzCC,IAFyC;AAAA,YAEnCC,UAFmC,GAEXF,KAFW,CAEnCE,UAFmC;AAAA,YAEvBC,QAFuB,GAEXH,KAFW,CAEvBG,QAFuB;;AAGhD,YAAMN,WAAWK,WAAWL,QAA5B;;AAEA,YAAI,CAACA,QAAD,IAAaI,SAAS,MAA1B,EAAkC;AAC9B,mBAAO,IAAP;AACH;;AAED,YAAMG,aAAaH,SAAS,MAAT,GACbC,WAAWE,UAAX,CAAsBD,QAAtB,CADa,GAEbD,WAAWG,aAAX,EAFN;;AAIA,eACI;AACI,qBAASjB,oBAAoBkB,WAApB,CAAgCC,IAAhC,CAAqC,IAArC,EAA2CP,KAA3C,CADb;AAEI,kBAAMZ,oBAAoBQ,OAApB,CAA4BC,QAA5B,EAAsCO,UAAtC,CAFV;AAGI,oBAAQ,EAACN,UAAUM,UAAX,EAHZ;AAII,sBAAU,CAAC,gBAAD,CAJd,GADJ;AAQH,KArBD;;AAuBAhB,wBAAoBkB,WAApB,GAAkC,UAAUN,KAAV,EAAiB;AAAA,YAE1CC,IAF0C,GAEZD,KAFY,CAE1CC,IAF0C;AAAA,YAEpCE,QAFoC,GAEZH,KAFY,CAEpCG,QAFoC;AAAA,YAE1BD,UAF0B,GAEZF,KAFY,CAE1BE,UAF0B;;AAG/C,YAAIM,UAAUN,WAAWD,SAAS,MAAT,GAAkB,UAAlB,GAA+B,aAA1C,CAAd;;AAEA,YAAI,OAAOO,OAAP,KAAmB,UAAvB,EAAmC;AAC/BA,oBAAQL,QAAR;AACH;AAEJ,KATD;;AAWAf,wBAAoBqB,SAApB,+BAEO,oBAAOA,SAFd;;AAIIL,oBAAY,iBAAUM,IAAV,CAAeC,UAJ/B;AAKIN,uBAAe,iBAAUK,IAAV,CAAeC,UALlC;AAMIC,kBAAU,iBAAUF,IANxB;AAOIG,qBAAa,iBAAUH,IAP3B;AAQII,cAAM,iBAAUC;;AARpB;;AAYA;;;AAGA3B,wBAAoB4B,YAApB,+BACO,oBAAOA,YADd;AAEIC,eAAO,EAFX;AAGIC,cAAM,CAHV;AAIIC,gBAAQ,CAJZ;AAKIpB,sBAAcX,oBAAoBW,YALtC;AAMIqB,wBAAgBhC,oBAAoBgC,cANxC;AAOIC,wBAAgBjC,oBAAoBiC,cAPxC;AAQIC,eAAO,QARX;AASIC,iBAAS,EATb;AAUI1B,kBAAU;AAVd;;AAaAT,wBAAoBoC,iBAApB,GAAwC,QAAxC","file":"SelectorColumn.js","sourcesContent":["/**\n * @file TableSelectorColumn\n * @author leon(ludafa@outlook.com)\n */\n\nimport React, {PropTypes, Component} from 'react';\n\nimport Icon from '../Icon';\nimport Column from './Column';\n\n/**\n * 可选择的表格列\n *\n * @extends React.Component\n */\nexport default class TableSelectorColumn extends Component {\n\n    /**\n     * 渲染\n     *\n     * @public\n     * @return {Element}\n     */\n    render() {\n        return null;\n    }\n\n}\n\nTableSelectorColumn.displayName = 'TableSelectorColumn';\n\nTableSelectorColumn.icons = {\n    radio: {\n        checked: 'radio-button-checked',\n        unchecked: 'radio-button-unchecked'\n    },\n    checkbox: {\n        checked: 'check-box',\n        unchecked: 'check-box-outline-blank'\n    }\n};\n\nTableSelectorColumn.getIcon = function (multiple, selected) {\n    let icons = TableSelectorColumn.icons[multiple ? 'checkbox' : 'radio'];\n    return icons[selected ? 'checked' : 'unchecked'];\n};\n\nTableSelectorColumn.cellRenderer = function (props) {\n\n    const {part, columnData, rowIndex} = props;\n    const multiple = columnData.multiple;\n\n    if (!multiple && part !== 'body') {\n        return null;\n    }\n\n    const isSelected = part === 'body'\n        ? columnData.isSelected(rowIndex)\n        : columnData.isAllSelected();\n\n    return (\n        <Icon\n            onClick={TableSelectorColumn.onCellClick.bind(null, props)}\n            icon={TableSelectorColumn.getIcon(multiple, isSelected)}\n            states={{selected: isSelected}}\n            variants={['table-selector']} />\n    );\n\n};\n\nTableSelectorColumn.onCellClick = function (props) {\n\n    let {part, rowIndex, columnData} = props;\n    let handler = columnData[part === 'body' ? 'onSelect' : 'onSelectAll'];\n\n    if (typeof handler === 'function') {\n        handler(rowIndex);\n    }\n\n};\n\nTableSelectorColumn.propTypes = {\n\n    ...Column.propTypes,\n\n    isSelected: PropTypes.func.isRequired,\n    isAllSelected: PropTypes.func.isRequired,\n    onSelect: PropTypes.func,\n    onSelectAll: PropTypes.func,\n    name: PropTypes.string\n\n};\n\n/**\n * 最关键的东西在这里\n */\nTableSelectorColumn.defaultProps = {\n    ...Column.defaultProps,\n    width: 66,\n    grow: 0,\n    shrink: 0,\n    cellRenderer: TableSelectorColumn.cellRenderer,\n    headerRenderer: TableSelectorColumn.headerRenderer,\n    footerRenderer: TableSelectorColumn.footerRenderer,\n    align: 'center',\n    dataKey: '',\n    multiple: false\n};\n\nTableSelectorColumn._TABLE_COMPONENT_ = 'COLUMN';\n"]}